services:
    mtonzar\SharedServicesBundle\Provider\HealthCheckProvider:
        arguments:
            $databaseChecker: '@mtonzar\SharedServicesBundle\Service\HealthChecker\DatabaseHealthChecker'
            $cacheChecker: '@mtonzar\SharedServicesBundle\Service\HealthChecker\CacheHealthChecker'
            $queueChecker: '@mtonzar\SharedServicesBundle\Service\HealthChecker\QueueHealthChecker'
            $apiDependencyChecker: '@mtonzar\SharedServicesBundle\Service\HealthChecker\ApiDependencyHealthChecker'
            $livenessChecker: '@mtonzar\SharedServicesBundle\Service\HealthChecker\LivenessHealthChecker'
            $readinessChecker: '@mtonzar\SharedServicesBundle\Service\HealthChecker\ReadinessHealthChecker'

    mtonzar\SharedServicesBundle\Service\HealthChecker\MultiServiceHealthChecker:
        arguments:
            $services:
                service1: 'http://localhost:8001/health/check'
                service2: 'http://localhost:8002/health/check'

    mtonzar\SharedServicesBundle\Provider\MultiServiceHealthCheckProvider:
        arguments:
            $multiChecker: '@mtonzar\SharedServicesBundle\Service\HealthChecker\MultiServiceHealthChecker'
    tags: ['api_platform.state_provider']

    mtonzar\SharedServicesBundle\Service\HealthChecker\DatabaseHealthChecker: ~
    mtonzar\SharedServicesBundle\Service\HealthChecker\CacheHealthChecker: ~
    mtonzar\SharedServicesBundle\Service\HealthChecker\QueueHealthChecker: ~
    mtonzar\SharedServicesBundle\Service\HealthChecker\ApiDependencyHealthChecker: ~
    mtonzar\SharedServicesBundle\Service\HealthChecker\LivenessHealthChecker: ~
    mtonzar\SharedServicesBundle\Service\HealthChecker\ReadinessHealthChecker: ~